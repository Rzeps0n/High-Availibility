create 1
}
tofu apply -var vm_count=12 -auto-approve  1.38s user 0.44s system 18% cpu 10.010 total
tail -1  0.00s user 0.00s system 0% cpu 10.009 total
destroy 1
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=108][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.116",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fee9:ffbe",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "0A:15:81:E7:6C:DB",
          [31m-[0m[0m "C6:CE:3C:F9:2C:D3",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:E9:FF:BE",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:E9:FF:BE" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.102",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe60:8018",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9E:ED:13:C3:B5:C8",
          [31m-[0m[0m "CA:D7:7D:13:24:8B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:60:80:18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:60:80:18" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.115",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe6f:2ce2",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "36:00:E9:B3:FA:97",
          [31m-[0m[0m "2A:A7:23:34:82:16",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:6F:2C:E2",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:6F:2C:E2" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.101",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe10:741b",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "EA:92:02:BB:B7:D3",
          [31m-[0m[0m "7E:11:98:4B:75:13",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:10:74:1B",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:10:74:1B" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.117",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe54:60a8",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "A6:CB:96:35:CE:83",
          [31m-[0m[0m "5E:50:A0:41:49:36",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:54:60:A8",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:54:60:A8" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.112",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe06:647f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1E:66:A0:A5:07:A0",
          [31m-[0m[0m "36:24:E9:3F:AD:71",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:06:64:7F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:06:64:7F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.100",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe04:b038",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "AA:B2:D9:0D:E1:43",
          [31m-[0m[0m "EE:CF:3E:C3:36:C9",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:04:B0:38",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:04:B0:38" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.113",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe85:3f50",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D6:4B:59:BE:B8:A2",
          [31m-[0m[0m "66:00:7E:B9:CA:8F",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:85:3F:50",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:85:3F:50" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.109",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fea7:d07d",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BE:AD:3E:D3:D8:CE",
          [31m-[0m[0m "92:E5:06:CA:9B:B7",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:A7:D0:7D",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:A7:D0:7D" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.114",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe5f:f7eb",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "DE:43:1E:6C:F0:64",
          [31m-[0m[0m "A2:CA:58:6E:E5:13",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:5F:F7:EB",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:5F:F7:EB" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.111",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fea5:c7bb",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "86:1C:C6:E4:F5:7F",
          [31m-[0m[0m "FE:01:0F:26:A0:F0",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:A5:C7:BB",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:A5:C7:BB" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.110",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fead:7b66",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "36:2A:FF:C4:71:95",
          [31m-[0m[0m "EA:65:5C:DD:92:3F",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:AD:7B:66",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:AD:7B:66" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.28s user 0.37s system 5% cpu 28.738 total
create 2
}
tofu apply -var vm_count=12 -auto-approve  1.35s user 0.36s system 17% cpu 9.796 total
tail -1  0.00s user 0.00s system 0% cpu 9.795 total
destroy 2
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=112][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.121",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe2e:ce52",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "72:FC:41:32:C8:54",
          [31m-[0m[0m "F6:D0:02:9C:F9:FF",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:2E:CE:52",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:2E:CE:52" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.127",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe16:daf7",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "A2:4D:58:41:CF:06",
          [31m-[0m[0m "12:1D:79:92:D5:E8",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:16:DA:F7",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:16:DA:F7" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.128",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe3a:674a",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9E:E2:BC:83:15:68",
          [31m-[0m[0m "92:37:C7:CA:F5:09",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:3A:67:4A",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:3A:67:4A" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.123",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe4e:e710",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BE:D1:CC:AF:0D:22",
          [31m-[0m[0m "9A:E5:12:14:A7:4B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:4E:E7:10",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:4E:E7:10" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.126",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe8b:5207",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "52:E9:90:32:3D:DB",
          [31m-[0m[0m "EE:82:D9:5B:E3:1D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:8B:52:07",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:8B:52:07" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.125",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe69:14a8",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "76:17:BD:41:8C:94",
          [31m-[0m[0m "2E:B5:CA:A7:AD:DA",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:69:14:A8",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:69:14:A8" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.119",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe67:8c91",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "86:16:79:38:A9:0F",
          [31m-[0m[0m "06:26:E7:E6:4C:69",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:67:8C:91",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:67:8C:91" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.132",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fedd:90de",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "CE:84:29:D8:26:D6",
          [31m-[0m[0m "8A:F0:2A:91:1B:80",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:DD:90:DE",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:DD:90:DE" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.124",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe64:f937",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "96:9E:F6:2F:85:53",
          [31m-[0m[0m "2A:D8:23:66:A8:DE",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:64:F9:37",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:64:F9:37" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.120",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed6:a038",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "46:F5:2E:2A:76:F1",
          [31m-[0m[0m "A2:64:C4:9C:A4:42",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D6:A0:38",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D6:A0:38" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.122",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fecf:8dc6",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "76:CC:81:F3:DE:76",
          [31m-[0m[0m "FA:06:54:23:08:85",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:CF:8D:C6",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:CF:8D:C6" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.118",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feef:1b86",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1E:D6:C0:0D:1C:DF",
          [31m-[0m[0m "A2:53:D3:AD:0D:8E",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:EF:1B:86",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:EF:1B:86" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 2s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.51s user 0.41s system 6% cpu 28.096 total
create 3
}
tofu apply -var vm_count=12 -auto-approve  1.39s user 0.36s system 17% cpu 9.789 total
tail -1  0.00s user 0.00s system 0% cpu 9.788 total
destroy 3
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=108][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.137",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe0d:ce48",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "8A:5B:F6:8E:B1:48",
          [31m-[0m[0m "8A:A9:3B:72:E7:E5",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:0D:CE:48",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:0D:CE:48" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.139",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe14:6cca",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "22:90:95:B8:C5:75",
          [31m-[0m[0m "4A:B1:1A:E8:C4:C5",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:14:6C:CA",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:14:6C:CA" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.131",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe83:1738",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "3A:B0:8C:DA:9C:B8",
          [31m-[0m[0m "2E:85:19:9C:6A:87",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:83:17:38",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:83:17:38" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.138",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe8e:d632",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D2:D3:81:40:36:81",
          [31m-[0m[0m "4E:5D:34:38:11:91",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:8E:D6:32",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:8E:D6:32" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.135",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feda:4cd1",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "B2:DC:93:DE:1D:08",
          [31m-[0m[0m "2A:05:E8:A0:E8:7C",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:DA:4C:D1",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:DA:4C:D1" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.136",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe39:ddcd",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "8E:6C:E4:58:BD:03",
          [31m-[0m[0m "1A:0A:6F:4A:7C:62",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:39:DD:CD",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:39:DD:CD" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.142",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe05:e052",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BA:9E:31:9A:1F:D9",
          [31m-[0m[0m "E6:D9:36:43:54:7C",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:05:E0:52",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:05:E0:52" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.133",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe61:25d",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "2E:C9:DC:D2:98:58",
          [31m-[0m[0m "A6:8A:3D:D0:37:26",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:61:02:5D",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:61:02:5D" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.129",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe05:a195",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "C2:6C:E6:DE:7E:D5",
          [31m-[0m[0m "8A:D1:0E:F7:04:B2",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:05:A1:95",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:05:A1:95" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.140",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe8d:adc6",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BE:F9:A5:1C:21:35",
          [31m-[0m[0m "BE:95:08:B2:71:D1",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:8D:AD:C6",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:8D:AD:C6" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.134",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe0c:485e",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "F6:C8:D1:37:B0:6F",
          [31m-[0m[0m "26:FA:2E:02:75:43",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:0C:48:5E",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:0C:48:5E" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.130",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feaa:5e2",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9E:E8:E2:A8:81:EA",
          [31m-[0m[0m "BA:3D:8C:69:5D:45",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:AA:05:E2",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:AA:05:E2" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 2s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.45s user 0.40s system 6% cpu 29.982 total
create 4
}
tofu apply -var vm_count=12 -auto-approve  1.44s user 0.36s system 18% cpu 9.854 total
tail -1  0.00s user 0.00s system 0% cpu 9.853 total
destroy 4
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=107][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.144",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fef0:abbd",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "E2:BB:80:90:95:C2",
          [31m-[0m[0m "2A:6E:DA:31:E6:A1",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:F0:AB:BD",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:F0:AB:BD" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.146",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feb0:e30f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "66:CD:56:6A:AA:5F",
          [31m-[0m[0m "4E:7A:DE:A9:85:89",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:B0:E3:0F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:B0:E3:0F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.141",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fefe:ee3f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "B2:8A:6E:CA:B2:CE",
          [31m-[0m[0m "E2:B9:BB:11:BB:AC",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:FE:EE:3F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:FE:EE:3F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.150",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe70:4c8b",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "C6:37:04:31:B0:C2",
          [31m-[0m[0m "B6:B6:99:43:B5:AE",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:70:4C:8B",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:70:4C:8B" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.151",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe6b:412e",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "2A:CB:48:94:D6:1F",
          [31m-[0m[0m "5E:53:B4:0B:CD:59",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:6B:41:2E",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:6B:41:2E" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.143",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe29:ba72",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "B6:73:48:5F:98:80",
          [31m-[0m[0m "E6:8F:64:54:24:FB",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:29:BA:72",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:29:BA:72" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.154",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fef9:f2ec",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "12:82:4C:27:B7:A7",
          [31m-[0m[0m "12:83:20:35:BC:90",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:F9:F2:EC",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:F9:F2:EC" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.145",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe56:45db",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7A:C7:BF:13:13:59",
          [31m-[0m[0m "FA:61:54:2D:92:90",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:56:45:DB",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:56:45:DB" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.149",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feaa:fd51",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "B2:DA:80:13:83:05",
          [31m-[0m[0m "46:F5:57:4E:76:C4",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:AA:FD:51",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:AA:FD:51" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.152",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe77:abd2",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "22:E6:B8:5E:1E:34",
          [31m-[0m[0m "FA:6C:D3:B8:4B:F3",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:77:AB:D2",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:77:AB:D2" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.148",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe03:7c2d",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9A:93:C9:6F:D3:8C",
          [31m-[0m[0m "02:12:E1:94:88:96",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:03:7C:2D",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:03:7C:2D" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.147",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe9c:8b52",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "36:4E:D0:AA:A4:83",
          [31m-[0m[0m "1A:70:0A:13:F0:CD",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:9C:8B:52",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:9C:8B:52" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.32s user 0.37s system 5% cpu 28.716 total
create 5
}
tofu apply -var vm_count=12 -auto-approve  1.47s user 0.35s system 20% cpu 8.731 total
tail -1  0.00s user 0.00s system 0% cpu 8.732 total
destroy 5
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=105][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.164",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe04:cd06",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "8A:3A:83:F8:C2:00",
          [31m-[0m[0m "0A:65:8D:4A:DD:7A",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:04:CD:06",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:04:CD:06" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.162",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe75:2f5f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "26:10:CB:B8:DC:C8",
          [31m-[0m[0m "66:48:D0:06:7E:3F",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:75:2F:5F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:75:2F:5F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.163",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe65:8ff3",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "CE:FD:82:2C:1B:A2",
          [31m-[0m[0m "0E:73:00:DE:B0:60",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:65:8F:F3",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:65:8F:F3" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.161",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe8c:4dcc",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "DA:3E:8E:45:F0:33",
          [31m-[0m[0m "46:97:65:E3:68:3D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:8C:4D:CC",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:8C:4D:CC" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.165",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:febd:aaf1",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7A:25:23:E7:92:C0",
          [31m-[0m[0m "EA:7C:C0:F6:54:16",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:BD:AA:F1",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:BD:AA:F1" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.153",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe1e:a80c",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "82:69:C0:FB:EF:09",
          [31m-[0m[0m "5E:1C:08:8A:89:C3",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:1E:A8:0C",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:1E:A8:0C" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.166",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed3:9923",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7A:BA:FE:A5:CC:B4",
          [31m-[0m[0m "1E:A1:66:39:08:9B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D3:99:23",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D3:99:23" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.156",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe51:da2c",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "EE:3A:79:4B:A8:91",
          [31m-[0m[0m "0E:73:BA:71:56:21",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:51:DA:2C",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:51:DA:2C" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.157",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec1:879f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "36:C5:88:92:C1:18",
          [31m-[0m[0m "B6:A8:B7:27:7A:05",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C1:87:9F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C1:87:9F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.155",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe98:ccff",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "3E:E1:5A:C9:C9:57",
          [31m-[0m[0m "92:8F:3A:7B:82:75",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:98:CC:FF",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:98:CC:FF" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.158",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feb3:b04",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "CA:48:3C:B3:21:C7",
          [31m-[0m[0m "B2:10:10:3A:3B:75",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:B3:0B:04",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:B3:0B:04" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.159",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec4:d2a3",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "EA:1E:4C:A8:A0:AA",
          [31m-[0m[0m "FA:2E:54:B1:4F:2B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C4:D2:A3",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C4:D2:A3" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 2s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 2s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.30s user 0.35s system 5% cpu 28.692 total
create 6
}
tofu apply -var vm_count=12 -auto-approve  1.26s user 0.30s system 17% cpu 8.706 total
tail -1  0.00s user 0.00s system 0% cpu 8.705 total
destroy 6
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=107][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.167",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe91:4da6",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "4E:B4:0B:D8:75:04",
          [31m-[0m[0m "D6:2D:48:29:C9:F9",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:91:4D:A6",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:91:4D:A6" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.170",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feb6:ee86",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D2:5F:7D:DF:15:8E",
          [31m-[0m[0m "9E:D1:B2:53:FF:3B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:B6:EE:86",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:B6:EE:86" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.172",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feb0:5086",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1E:16:AA:8B:BD:CE",
          [31m-[0m[0m "2E:D5:1E:D4:DD:49",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:B0:50:86",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:B0:50:86" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.176",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe98:f417",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "A6:23:92:66:D5:2B",
          [31m-[0m[0m "86:A0:CD:C5:49:DD",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:98:F4:17",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:98:F4:17" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.171",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed7:1012",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7E:14:F8:AD:FD:25",
          [31m-[0m[0m "72:5B:3E:EC:B4:2F",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D7:10:12",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D7:10:12" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.168",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe08:5fee",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1A:54:57:98:9C:47",
          [31m-[0m[0m "6A:3C:0F:63:1B:6C",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:08:5F:EE",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:08:5F:EE" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.180",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe58:90e3",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7E:6E:A8:0A:58:98",
          [31m-[0m[0m "B2:59:2D:FC:D6:7B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:58:90:E3",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:58:90:E3" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.173",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe4f:f53",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "EA:93:FD:3C:A7:5C",
          [31m-[0m[0m "8A:4C:4A:36:E7:8A",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:4F:0F:53",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:4F:0F:53" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.169",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe61:aeeb",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1A:81:6F:4B:D1:C0",
          [31m-[0m[0m "3E:AC:F8:57:6D:D9",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:61:AE:EB",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:61:AE:EB" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.174",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe2e:e361",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "4A:B5:87:5C:84:3D",
          [31m-[0m[0m "12:65:E8:1B:65:3D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:2E:E3:61",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:2E:E3:61" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.177",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fefd:5c0c",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "C2:5A:D4:BE:67:66",
          [31m-[0m[0m "DE:47:73:69:DF:7A",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:FD:5C:0C",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:FD:5C:0C" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.175",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec2:e477",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "76:C7:4F:A2:28:39",
          [31m-[0m[0m "FE:03:05:18:1C:27",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C2:E4:77",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C2:E4:77" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.30s user 0.35s system 5% cpu 28.507 total
create 7
}
tofu apply -var vm_count=12 -auto-approve  1.33s user 0.32s system 16% cpu 9.801 total
tail -1  0.00s user 0.00s system 0% cpu 9.799 total
destroy 7
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=110][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.182",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe55:b227",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D2:85:48:99:2E:3C",
          [31m-[0m[0m "7E:19:7F:C8:43:04",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:55:B2:27",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:55:B2:27" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.189",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe74:d6aa",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "5A:23:15:02:A6:21",
          [31m-[0m[0m "1E:0E:85:9C:46:1B",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:74:D6:AA",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:74:D6:AA" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.186",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feaf:151b",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "5A:75:4C:10:46:03",
          [31m-[0m[0m "4A:98:7F:0C:F0:07",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:AF:15:1B",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:AF:15:1B" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.191",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fedf:4b99",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "72:4B:63:2F:9B:51",
          [31m-[0m[0m "CA:D4:DA:3B:07:A0",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:DF:4B:99",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:DF:4B:99" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.190",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe23:f992",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "5E:49:8D:74:9F:FD",
          [31m-[0m[0m "22:36:90:C0:B4:1A",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:23:F9:92",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:23:F9:92" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.178",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec6:9c43",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "32:DC:14:0F:5F:A2",
          [31m-[0m[0m "16:2E:78:4F:89:47",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C6:9C:43",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C6:9C:43" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.185",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feeb:7f6a",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "2A:75:95:AE:F2:88",
          [31m-[0m[0m "FA:EB:D5:BB:E5:84",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:EB:7F:6A",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:EB:7F:6A" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.184",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fefe:d1ad",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "F6:A6:BD:8D:6C:99",
          [31m-[0m[0m "26:C8:CA:D0:44:65",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:FE:D1:AD",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:FE:D1:AD" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.181",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed1:596e",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9A:E8:35:E7:E7:62",
          [31m-[0m[0m "F2:9F:9B:59:C8:F4",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D1:59:6E",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D1:59:6E" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.188",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fef4:59da",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "66:9B:73:43:8C:2D",
          [31m-[0m[0m "C6:92:55:66:D2:F7",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:F4:59:DA",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:F4:59:DA" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.179",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec7:69e1",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7E:DA:60:58:F3:B3",
          [31m-[0m[0m "02:AA:9C:A2:34:73",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C7:69:E1",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C7:69:E1" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.183",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fef0:ed70",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D2:02:51:7D:2A:5A",
          [31m-[0m[0m "A6:91:AA:88:7B:9D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:F0:ED:70",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:F0:ED:70" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.29s user 0.35s system 5% cpu 29.760 total
create 8
}
tofu apply -var vm_count=12 -auto-approve  1.32s user 0.33s system 15% cpu 10.522 total
tail -1  0.00s user 0.00s system 0% cpu 10.521 total
destroy 8
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=112][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.192",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feda:ccf4",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "02:5F:5F:2E:84:54",
          [31m-[0m[0m "B6:21:5C:23:34:69",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:DA:CC:F4",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:DA:CC:F4" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.194",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fea1:5171",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "22:93:C6:8F:3A:17",
          [31m-[0m[0m "92:C6:C7:F2:00:0D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:A1:51:71",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:A1:51:71" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.202",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fec4:d3e7",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "4A:99:CD:9D:E9:74",
          [31m-[0m[0m "BE:0E:CC:C6:3F:20",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:C4:D3:E7",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:C4:D3:E7" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.199",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fee2:94d9",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "A6:E7:76:47:A0:4E",
          [31m-[0m[0m "BE:2E:FC:75:24:23",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:E2:94:D9",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:E2:94:D9" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.195",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe94:957f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "42:29:26:0A:59:52",
          [31m-[0m[0m "52:60:69:3B:2F:AE",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:94:95:7F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:94:95:7F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.201",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe18:7c80",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "92:41:D7:D4:1E:5D",
          [31m-[0m[0m "3E:50:76:00:71:A6",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:18:7C:80",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:18:7C:80" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.203",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe1d:d26d",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "7A:9A:58:71:70:CE",
          [31m-[0m[0m "92:03:37:2A:F3:49",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:1D:D2:6D",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:1D:D2:6D" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.200",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fee8:3c42",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "66:4A:34:65:8B:A4",
          [31m-[0m[0m "A2:A9:B7:65:06:DB",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:E8:3C:42",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:E8:3C:42" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.197",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feb1:d6f3",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "92:BB:F7:A2:AF:07",
          [31m-[0m[0m "5A:F5:69:55:DF:BE",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:B1:D6:F3",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:B1:D6:F3" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.196",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe55:49b3",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1E:21:AD:9E:D7:48",
          [31m-[0m[0m "DE:8C:A7:F7:57:FF",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:55:49:B3",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:55:49:B3" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.198",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe23:224f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "8E:08:D7:62:17:5C",
          [31m-[0m[0m "7E:57:67:E5:A4:AB",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:23:22:4F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:23:22:4F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.193",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe01:7039",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "56:00:58:02:F5:68",
          [31m-[0m[0m "2E:51:43:2E:AD:52",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:01:70:39",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:01:70:39" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 4s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.25s user 0.34s system 5% cpu 29.031 total
create 9
}
tofu apply -var vm_count=12 -auto-approve  1.34s user 0.32s system 17% cpu 9.724 total
tail -1  0.00s user 0.00s system 0% cpu 9.721 total
destroy 9
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=102][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=113][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.209",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe23:9ddc",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9E:04:35:34:B7:0D",
          [31m-[0m[0m "E2:82:81:6F:CA:44",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:23:9D:DC",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:23:9D:DC" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.213",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:febb:5c07",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "0A:10:9B:AD:46:97",
          [31m-[0m[0m "AE:84:6F:05:93:DC",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:BB:5C:07",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:BB:5C:07" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.205",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed4:9b9b",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "9A:CF:38:92:E6:E8",
          [31m-[0m[0m "0A:10:03:A1:C5:8D",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D4:9B:9B",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D4:9B:9B" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.206",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fecc:41b8",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "DA:B3:C6:02:B0:15",
          [31m-[0m[0m "2A:2D:FE:FC:51:95",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:CC:41:B8",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:CC:41:B8" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.221",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe1d:f8fd",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "E6:55:D3:4C:79:66",
          [31m-[0m[0m "AE:A5:64:30:4A:10",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:1D:F8:FD",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:1D:F8:FD" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.208",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe9e:f14",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "E2:AE:83:6E:D9:15",
          [31m-[0m[0m "BA:F1:17:26:D1:FC",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:9E:0F:14",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:9E:0F:14" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.215",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe4e:903",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "D2:7D:D1:A4:86:F4",
          [31m-[0m[0m "C2:48:95:1F:32:60",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:4E:09:03",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:4E:09:03" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.219",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe21:6cc4",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "DE:8A:39:A9:8F:1C",
          [31m-[0m[0m "8A:A6:A3:63:9B:76",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:21:6C:C4",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:21:6C:C4" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.204",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:feac:e1b4",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "06:C1:14:7C:D4:5E",
          [31m-[0m[0m "02:A6:92:64:EC:64",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:AC:E1:B4",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:AC:E1:B4" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.207",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe26:24d0",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "6E:08:D1:24:3F:B7",
          [31m-[0m[0m "F2:1A:6E:39:4F:69",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:26:24:D0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:26:24:D0" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.217",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe9b:5174",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "2A:B3:A6:B0:41:71",
          [31m-[0m[0m "76:22:FE:4E:F1:FC",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:9B:51:74",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:9B:51:74" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.211",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe37:1986",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "E6:5D:5C:CC:D7:C4",
          [31m-[0m[0m "96:FD:A1:FB:1C:66",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:37:19:86",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:37:19:86" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 5s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 2s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 2s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.28s user 0.35s system 5% cpu 27.945 total
create 10
}
tofu apply -var vm_count=12 -auto-approve  1.31s user 0.32s system 16% cpu 9.808 total
tail -1  0.00s user 0.00s system 0% cpu 9.807 total
destroy 10
[0m[1mdata.local_file.ssh_public_key: Reading...[0m[0m
[0m[1mdata.local_file.ssh_public_key: Read complete after 0s [id=af4136894a1147ce6a8644f11be64209adf6c5ed][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-3"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-1"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_download_file.talos_iso["dl380-2"]: Refreshing state... [id=local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Refreshing state... [id=108][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Refreshing state... [id=106][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Refreshing state... [id=112][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Refreshing state... [id=109][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Refreshing state... [id=107][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Refreshing state... [id=111][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Refreshing state... [id=113][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Refreshing state... [id=104][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Refreshing state... [id=105][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Refreshing state... [id=110][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Refreshing state... [id=103][0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Refreshing state... [id=102][0m

OpenTofu used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [31m-[0m destroy[0m

OpenTofu will perform the following actions:

[1m  # proxmox_virtual_environment_vm.k8s_vm["0"][0m will be [1m[31mdestroyed[0m
  # (because key ["0"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "109" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.223",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe26:12a7",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "A2:35:CD:73:A1:43",
          [31m-[0m[0m "AE:99:C9:25:EC:DF",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:26:12:A7",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-1" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 109 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-109-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:26:12:A7" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["1"][0m will be [1m[31mdestroyed[0m
  # (because key ["1"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "108" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.227",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe59:f86f",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "0E:FC:6C:F3:54:D8",
          [31m-[0m[0m "02:CD:B1:B4:E7:C2",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:59:F8:6F",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-2" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 108 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-108-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:59:F8:6F" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["10"][0m will be [1m[31mdestroyed[0m
  # (because key ["10"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "105" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.231",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe57:939c",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "EE:0C:4F:95:9B:51",
          [31m-[0m[0m "1E:77:B6:07:5E:AB",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:57:93:9C",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-11" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 105 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-105-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:57:93:9C" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["11"][0m will be [1m[31mdestroyed[0m
  # (because key ["11"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "112" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.232",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe3a:6ae0",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "CE:26:63:52:8E:5C",
          [31m-[0m[0m "0A:D5:5C:E6:63:F9",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:3A:6A:E0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-12" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 112 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-112-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:3A:6A:E0" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["2"][0m will be [1m[31mdestroyed[0m
  # (because key ["2"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "111" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.214",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fef0:d588",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "2E:58:E8:B8:F5:8D",
          [31m-[0m[0m "32:37:35:65:54:BF",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:F0:D5:88",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-3" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 111 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-111-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:F0:D5:88" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["3"][0m will be [1m[31mdestroyed[0m
  # (because key ["3"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "110" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.160",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fed3:3273",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "32:04:F5:1F:09:A2",
          [31m-[0m[0m "FA:6D:F6:40:DD:EB",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:D3:32:73",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-4" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 110 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-110-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:D3:32:73" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["4"][0m will be [1m[31mdestroyed[0m
  # (because key ["4"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "107" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.229",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe13:9cea",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "3A:61:DB:23:74:A5",
          [31m-[0m[0m "B6:DA:BB:81:A9:66",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:13:9C:EA",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-5" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 107 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-107-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:13:9C:EA" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["5"][0m will be [1m[31mdestroyed[0m
  # (because key ["5"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "113" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.233",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fefa:541a",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "32:82:24:B3:AB:B1",
          [31m-[0m[0m "76:C4:16:12:6E:26",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:FA:54:1A",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-6" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 113 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-113-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:FA:54:1A" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["6"][0m will be [1m[31mdestroyed[0m
  # (because key ["6"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "104" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.210",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe29:ed03",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "1A:88:BA:3E:58:12",
          [31m-[0m[0m "BE:81:E9:74:E1:B3",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:29:ED:03",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-7" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 104 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-104-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:29:ED:03" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["7"][0m will be [1m[31mdestroyed[0m
  # (because key ["7"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "106" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.216",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe1e:ed30",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "26:86:1B:74:E2:FC",
          [31m-[0m[0m "2A:53:19:08:6A:1A",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:1E:ED:30",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-8" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-2" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 106 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-106-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:1E:ED:30" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["8"][0m will be [1m[31mdestroyed[0m
  # (because key ["8"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "102" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.212",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fea0:bc7b",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "5E:B8:1B:33:6C:CF",
          [31m-[0m[0m "D2:5A:53:E1:54:C1",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:A0:BC:7B",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-9" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-3" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 102 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-102-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:A0:BC:7B" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1m  # proxmox_virtual_environment_vm.k8s_vm["9"][0m will be [1m[31mdestroyed[0m
  # (because key ["9"] is not in for_each map)
[0m  [31m-[0m[0m resource "proxmox_virtual_environment_vm" "k8s_vm" {
      [31m-[0m[0m acpi                                 = true [90m-> null[0m[0m
      [31m-[0m[0m bios                                 = "ovmf" [90m-> null[0m[0m
      [31m-[0m[0m boot_order                           = [
          [31m-[0m[0m "scsi0",
          [31m-[0m[0m "sata0",
        ] [90m-> null[0m[0m
      [31m-[0m[0m delete_unreferenced_disks_on_destroy = true [90m-> null[0m[0m
      [31m-[0m[0m description                          = "Managed by Terraform" [90m-> null[0m[0m
      [31m-[0m[0m id                                   = "103" [90m-> null[0m[0m
      [31m-[0m[0m ipv4_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "127.0.0.1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "192.168.14.225",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m ipv6_addresses                       = [
          [31m-[0m[0m [
              [31m-[0m[0m "::1",
            ],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [],
          [31m-[0m[0m [
              [31m-[0m[0m "fe80::be24:11ff:fe14:865c",
            ],
        ] [90m-> null[0m[0m
      [31m-[0m[0m keyboard_layout                      = "en-us" [90m-> null[0m[0m
      [31m-[0m[0m mac_addresses                        = [
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "6A:A8:7E:6B:0E:3B",
          [31m-[0m[0m "2E:E1:5B:9B:5D:B4",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "00:00:00:00:00:00",
          [31m-[0m[0m "BC:24:11:14:86:5C",
        ] [90m-> null[0m[0m
      [31m-[0m[0m machine                              = "q35" [90m-> null[0m[0m
      [31m-[0m[0m migrate                              = false [90m-> null[0m[0m
      [31m-[0m[0m name                                 = "terraform-talos-10" [90m-> null[0m[0m
      [31m-[0m[0m network_interface_names              = [
          [31m-[0m[0m "lo",
          [31m-[0m[0m "bond0",
          [31m-[0m[0m "dummy0",
          [31m-[0m[0m "teql0",
          [31m-[0m[0m "tunl0",
          [31m-[0m[0m "sit0",
          [31m-[0m[0m "ip6tnl0",
          [31m-[0m[0m "ens18",
        ] [90m-> null[0m[0m
      [31m-[0m[0m node_name                            = "dl380-1" [90m-> null[0m[0m
      [31m-[0m[0m on_boot                              = true [90m-> null[0m[0m
      [31m-[0m[0m protection                           = false [90m-> null[0m[0m
      [31m-[0m[0m purge_on_destroy                     = true [90m-> null[0m[0m
      [31m-[0m[0m reboot                               = false [90m-> null[0m[0m
      [31m-[0m[0m reboot_after_update                  = true [90m-> null[0m[0m
      [31m-[0m[0m scsi_hardware                        = "virtio-scsi-pci" [90m-> null[0m[0m
      [31m-[0m[0m started                              = true [90m-> null[0m[0m
      [31m-[0m[0m stop_on_destroy                      = true [90m-> null[0m[0m
      [31m-[0m[0m tablet_device                        = true [90m-> null[0m[0m
      [31m-[0m[0m tags                                 = [
          [31m-[0m[0m "terraform",
        ] [90m-> null[0m[0m
      [31m-[0m[0m template                             = false [90m-> null[0m[0m
      [31m-[0m[0m timeout_clone                        = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_create                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_migrate                      = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_move_disk                    = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_reboot                       = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_shutdown_vm                  = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_start_vm                     = 1800 [90m-> null[0m[0m
      [31m-[0m[0m timeout_stop_vm                      = 300 [90m-> null[0m[0m
      [31m-[0m[0m vm_id                                = 103 [90m-> null[0m[0m

      [31m-[0m[0m agent {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m timeout = "5m" [90m-> null[0m[0m
          [31m-[0m[0m trim    = true [90m-> null[0m[0m
          [31m-[0m[0m type    = "virtio" [90m-> null[0m[0m
        }

      [31m-[0m[0m cdrom {
          [31m-[0m[0m enabled   = false [90m-> null[0m[0m
          [31m-[0m[0m file_id   = "local:iso/talos-v1.12.1-bd0ba6cbf4343e0963deb7198401902252176980148c40c444153d84014ec339-metal-amd64.iso" [90m-> null[0m[0m
          [31m-[0m[0m interface = "sata0" [90m-> null[0m[0m
        }

      [31m-[0m[0m cpu {
          [31m-[0m[0m cores      = 4 [90m-> null[0m[0m
          [31m-[0m[0m flags      = [] [90m-> null[0m[0m
          [31m-[0m[0m hotplugged = 0 [90m-> null[0m[0m
          [31m-[0m[0m limit      = 0 [90m-> null[0m[0m
          [31m-[0m[0m numa       = true [90m-> null[0m[0m
          [31m-[0m[0m sockets    = 1 [90m-> null[0m[0m
          [31m-[0m[0m type       = "host" [90m-> null[0m[0m
          [31m-[0m[0m units      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m disk {
          [31m-[0m[0m aio               = "io_uring" [90m-> null[0m[0m
          [31m-[0m[0m backup            = true [90m-> null[0m[0m
          [31m-[0m[0m cache             = "none" [90m-> null[0m[0m
          [31m-[0m[0m datastore_id      = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m discard           = "on" [90m-> null[0m[0m
          [31m-[0m[0m file_format       = "raw" [90m-> null[0m[0m
          [31m-[0m[0m interface         = "scsi0" [90m-> null[0m[0m
          [31m-[0m[0m iothread          = false [90m-> null[0m[0m
          [31m-[0m[0m path_in_datastore = "vm-103-disk-0" [90m-> null[0m[0m
          [31m-[0m[0m replicate         = true [90m-> null[0m[0m
          [31m-[0m[0m size              = 20 [90m-> null[0m[0m
          [31m-[0m[0m ssd               = false [90m-> null[0m[0m
        }

      [31m-[0m[0m initialization {
          [31m-[0m[0m datastore_id = "local-lvm" [90m-> null[0m[0m
          [31m-[0m[0m interface    = "scsi1" [90m-> null[0m[0m

          [31m-[0m[0m dns {
              [31m-[0m[0m domain  = "local.k8s_vm.search_domain" [90m-> null[0m[0m
              [31m-[0m[0m servers = [] [90m-> null[0m[0m
            }

          [31m-[0m[0m ip_config {
              [31m-[0m[0m ipv4 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
              [31m-[0m[0m ipv6 {
                  [31m-[0m[0m address = "dhcp" [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m user_account {
              [31m-[0m[0m keys     = [
                  [31m-[0m[0m "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDhQJzsbaimPDQEutXzWa3AaWeDJwbs5xNPyD9IhoTsq adam@Adams-Air.internal",
                ] [90m-> null[0m[0m
              [31m-[0m[0m username = "talos" [90m-> null[0m[0m
            }
        }

      [31m-[0m[0m memory {
          [31m-[0m[0m dedicated      = 4096 [90m-> null[0m[0m
          [31m-[0m[0m floating       = 0 [90m-> null[0m[0m
          [31m-[0m[0m keep_hugepages = false [90m-> null[0m[0m
          [31m-[0m[0m shared         = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m network_device {
          [31m-[0m[0m bridge       = "vmbr0" [90m-> null[0m[0m
          [31m-[0m[0m disconnected = false [90m-> null[0m[0m
          [31m-[0m[0m enabled      = true [90m-> null[0m[0m
          [31m-[0m[0m firewall     = false [90m-> null[0m[0m
          [31m-[0m[0m mac_address  = "BC:24:11:14:86:5C" [90m-> null[0m[0m
          [31m-[0m[0m model        = "virtio" [90m-> null[0m[0m
          [31m-[0m[0m mtu          = 0 [90m-> null[0m[0m
          [31m-[0m[0m queues       = 0 [90m-> null[0m[0m
          [31m-[0m[0m rate_limit   = 0 [90m-> null[0m[0m
          [31m-[0m[0m vlan_id      = 0 [90m-> null[0m[0m
        }

      [31m-[0m[0m operating_system {
          [31m-[0m[0m type = "l26" [90m-> null[0m[0m
        }
    }

[1mPlan:[0m 0 to add, 0 to change, 12 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m created_vms = {
      [31m-[0m[0m terraform-talos-1  = {
          [31m-[0m[0m id   = "109"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-10 = {
          [31m-[0m[0m id   = "103"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-11 = {
          [31m-[0m[0m id   = "105"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-12 = {
          [31m-[0m[0m id   = "112"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-2  = {
          [31m-[0m[0m id   = "108"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-3  = {
          [31m-[0m[0m id   = "111"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-4  = {
          [31m-[0m[0m id   = "110"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-5  = {
          [31m-[0m[0m id   = "107"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-6  = {
          [31m-[0m[0m id   = "113"
          [31m-[0m[0m node = "dl380-3"
        }
      [31m-[0m[0m terraform-talos-7  = {
          [31m-[0m[0m id   = "104"
          [31m-[0m[0m node = "dl380-1"
        }
      [31m-[0m[0m terraform-talos-8  = {
          [31m-[0m[0m id   = "106"
          [31m-[0m[0m node = "dl380-2"
        }
      [31m-[0m[0m terraform-talos-9  = {
          [31m-[0m[0m id   = "102"
          [31m-[0m[0m node = "dl380-3"
        }
    }
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destroying... [id=103][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destroying... [id=110][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destroying... [id=111][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destroying... [id=105][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destroying... [id=113][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destroying... [id=108][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destroying... [id=102][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destroying... [id=104][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destroying... [id=107][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destroying... [id=112][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["6"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["9"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["3"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destroying... [id=106][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destroying... [id=109][0m[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["1"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["2"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["11"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["8"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["10"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["4"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["5"]: Destruction complete after 4s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["0"]: Destruction complete after 3s[0m
[0m[1mproxmox_virtual_environment_vm.k8s_vm["7"]: Destruction complete after 3s[0m
[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mRedundant ignore_changes element[0m
[33m│[0m [0m
[33m│[0m [0m[0m  on main.tf line 10, in resource "proxmox_virtual_environment_vm" "k8s_vm":
[33m│[0m [0m  10: resource [4m"proxmox_virtual_environment_vm"[0m "k8s_vm" {[0m
[33m│[0m [0m
[33m│[0m [0mAdding an attribute name to ignore_changes tells OpenTofu to ignore future
[33m│[0m [0mchanges to the argument in configuration after the object has been created,
[33m│[0m [0mretaining the value originally configured.
[33m│[0m [0m
[33m│[0m [0mThe attribute ipv4_addresses is decided by the provider alone and therefore
[33m│[0m [0mthere can be no configured value to compare with. Including this attribute
[33m│[0m [0min ignore_changes has no effect. Remove the attribute from ignore_changes
[33m│[0m [0mto quiet this warning.
[33m│[0m [0m
[33m│[0m [0m(and one more similar warning elsewhere)
[33m╵[0m[0m
[0m[1m[32m
Apply complete! Resources: 0 added, 0 changed, 12 destroyed.
[0m[0m[1m[32m
Outputs:

[0mcreated_vms = {}
tofu apply -var vm_count=0 -auto-approve  1.32s user 0.35s system 5% cpu 28.613 total
